company: 字节跳动
dates: 2021/10 - 2023/06
product: ""
team: 抖音推荐离线架构
location: 北京
bullets:
  - >
    维护抖音视频近线数据流以及视频正排和候选库，
    使基于 RocksDB 的 KV 索引同时具有按行读取和按列进行流式更新的能力。
    完善在多业务场景下对数据流和索引存储复用时对资源占用的监控和治理，
    避免个别业务的高负载对主要推荐数据流造成积压以及索引存储空间的过度消耗。
  - >
    对抖音和 TikTok 视频索引库按视频和作者两个维度进行拆分，
    抽取视频中的作者信息构建独立的用户索引，以减轻视频索引库的存储压力，
    提升在线系统缓存的命中率，增强作者信息的一致性，
    方便社交等业务对作者信息的获取。
  - >
    独立设计并开发了一个基于 Python 的轻量化流处理引擎，
    完成在抖音团购等新业务中的落地。
    设计采用基于 epoll 的事件驱动实现多进程的高效异步通信，
    基于 Kubernetes 实现对节点的健康监控和错误恢复，
    通过配置信息可灵活更改吞吐和并发量，
    采用 Python 以实现对历史代码的无缝兼容以及方便算法同学的后续业务开发。
    新的数据流在提升新业务迭代速度的同时，通过和抖音主端解耦，
    极大提升了抖音主要数据流的稳定性。